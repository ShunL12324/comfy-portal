<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Server Setup Guide - Comfy Portal</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.0/github-markdown.min.css"
    />
    <link rel="stylesheet" href="../styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js"></script>
    <style>
      .warning-card {
        background-color: #fff8c5;
        border: 1px solid #f6e05e;
        border-radius: 6px;
        padding: 16px;
        margin-bottom: 24px;
      }

      .warning-card h4 {
        color: #92400e;
        margin-bottom: 8px;
      }

      .warning-card p {
        color: #92400e;
      }

      .step-card {
        border: 1px solid var(--color-border-muted);
        border-radius: 6px;
        padding: 16px;
        margin-bottom: 24px;
      }

      .step-header {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
      }

      .step-number {
        font-size: 1.25rem;
        font-weight: 600;
        margin-right: 12px;
        color: var(--color-accent-fg);
      }

      .code-block {
        background-color: var(--color-canvas-subtle);
        padding: 12px;
        border-radius: 6px;
        font-family: monospace;
        margin: 12px 0;
      }

      .example-block {
        background-color: var(--color-canvas-subtle);
        padding: 12px;
        border-radius: 6px;
        margin: 12px 0;
      }
    </style>
  </head>
  <body>
    <div class="markdown-body container">
      <div class="warning-card">
        <h4>⚠️ Disclaimer</h4>
        <p>
          This guide provides setup instructions only. Please understand all
          potential risks before proceeding. We are not responsible for any
          damages or losses that may occur.
        </p>
      </div>
    </div>
    <script>
      const md = window.markdownit({
        html: true,
        linkify: true,
        typographer: true,
      });
      const content = `
Follow these steps to set up your own ComfyUI server locally and connect
it to this app.

Please follow the official ComfyUI installation guide to set up the
required environment and dependencies:

[ComfyUI Installation Guide →](https://github.com/comfyanonymous/ComfyUI#installing)

## 1. Network Setup

Ensure your phone and the computer running ComfyUI are on the same local network (connected to the same WiFi/router).

To find your computer's IP address:

- Windows: Open Command Prompt and type "ipconfig"
- macOS: Open Terminal and type "ifconfig" or go to System Settings → Network
- Linux: Open Terminal and type "ip addr" or "ifconfig"

> Look for IPv4 address, usually starting with 192.168.x.x or 10.0.x.x

## 2. Start the Server

After installation, start the ComfyUI server with network access enabled:

\`\`\`bash
python main.py --listen 0.0.0.0 --port 8188
\`\`\`

This will start the server on port 8188 and make it accessible from
other devices on your network.

## 3. Connect to the Server

Once the server is running, tap the "+" button to add a new server
with the following details:

- Name: Give your server a memorable name (e.g., "Home Server")
- Host: Your computer's IP address or "localhost" (do not include http:// prefix)
- Port: 8188 (default ComfyUI port)

**Example for local network:**

> Name: Home ComfyUI  
> Host: 192.168.1.100  
> Port: 8188

For troubleshooting and additional setup options, visit:

[ComfyUI GitHub Repository →](https://github.com/comfyanonymous/ComfyUI)`;

      // Insert the rendered markdown after the warning card
      const container = document.querySelector('.markdown-body');
      const renderedContent = md.render(content);
      container.insertAdjacentHTML('beforeend', renderedContent);
    </script>
  </body>
</html>
