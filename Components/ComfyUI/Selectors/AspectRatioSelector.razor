@using ComfyPortal.Models

<MudSelect @bind-Value="@SelectedRatio"
           Label="@Label"
           Variant="@Variant"
           Margin="@Margin"
           Required="@Required"
           Disabled="@Disabled"
           HelperText="@HelperText"
           ToStringFunc="@(r => r?.Label ?? "")">
    @foreach (var ratio in AspectRatios)
    {
        <MudSelectItem Value="@ratio">@ratio.Label (@ratio.Width×@ratio.Height)</MudSelectItem>
    }
</MudSelect>

@code {
    [Parameter]
    public AspectRatio? SelectedRatio { get; set; }

    [Parameter]
    public EventCallback<AspectRatio?> SelectedRatioChanged { get; set; }

    [Parameter]
    public string Label { get; set; } = "Aspect Ratio";

    [Parameter]
    public Variant Variant { get; set; } = Variant.Outlined;

    [Parameter]
    public Margin Margin { get; set; } = Margin.Dense;

    [Parameter]
    public bool Required { get; set; } = false;

    [Parameter]
    public bool Disabled { get; set; } = false;

    [Parameter]
    public string? HelperText { get; set; }

    private List<AspectRatio> AspectRatios = new()
    {
        new AspectRatio { Label = "1:1 (Square)", Width = 512, Height = 512 },
        new AspectRatio { Label = "4:3 (Standard)", Width = 640, Height = 480 },
        new AspectRatio { Label = "3:2 (Classic)", Width = 768, Height = 512 },
        new AspectRatio { Label = "16:9 (Widescreen)", Width = 896, Height = 512 },
        new AspectRatio { Label = "9:16 (Portrait)", Width = 512, Height = 896 },
        new AspectRatio { Label = "2:3 (Portrait)", Width = 512, Height = 768 },
        new AspectRatio { Label = "3:4 (Portrait)", Width = 480, Height = 640 },
        new AspectRatio { Label = "21:9 (Ultrawide)", Width = 1024, Height = 440 },
        new AspectRatio { Label = "1024×1024 (SDXL)", Width = 1024, Height = 1024 },
        new AspectRatio { Label = "1536×640 (SDXL Wide)", Width = 1536, Height = 640 },
        new AspectRatio { Label = "640×1536 (SDXL Tall)", Width = 640, Height = 1536 }
    };

    public class AspectRatio
    {
        public required string Label { get; set; }
        public int Width { get; set; }
        public int Height { get; set; }
    }
}
